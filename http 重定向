HTTP 301（永久重定向）和 302（临时重定向） 是两种常用的重定向状态码，用于将用户或搜索引擎从旧 URL 引导至新 URL。它们的核心区别在于重定向的持久性和对 SEO 的影响。以下是它们的具体应用场景及对比分析：

一、HTTP 301（永久重定向）
核心特点
永久性：资源已永久迁移至新 URL，后续请求应直接访问新地址。
SEO 友好：搜索引擎会将旧 URL 的权重（如排名、流量）传递至新 URL。
缓存支持：浏览器和代理服务器会缓存 301 重定向关系，减少重复请求。
应用场景
域名更换或网站迁移
场景：将网站从 http://old-site.com 迁移至 https://new-site.com（启用 HTTPS）。
作用：确保用户和搜索引擎访问新域名，同时保留 SEO 权重。
示例：
http
HTTP/1.1 301 Moved Permanently
Location: https://new-site.com/
URL 结构优化
场景：将动态 URL（如 ?id=123）改为静态 URL（如 /product/123）。
作用：提升 URL 可读性，利于 SEO 和用户分享。
示例：
http
HTTP/1.1 301 Moved Permanently
Location: /product/123
合并重复内容
场景：网站存在多个相同内容的页面（如 example.com/page 和 example.com/page/），需统一指向一个 URL。
作用：避免搜索引擎判定为重复内容，集中权重。
废弃页面处理
场景：删除旧页面后，需引导用户访问替代页面（如新版文档）。
作用：减少 404 错误，提升用户体验。
二、HTTP 302（临时重定向）
核心特点
临时性：资源仅暂时迁移至新 URL，后续请求仍应访问旧地址。
SEO 中性：搜索引擎不会传递权重至新 URL，旧 URL 仍保留排名。
不缓存：浏览器和代理服务器通常不会缓存 302 重定向关系。
应用场景
网站临时维护
场景：网站需短暂关闭进行升级，需引导用户至维护页。
作用：维护结束后，用户可自动回到原页面。
示例：
http
HTTP/1.1 302 Found
Location: /under-maintenance
A/B 测试
场景：将部分用户临时重定向至新版本页面，测试功能或设计效果。
作用：避免搜索引擎索引测试页，同时收集用户反馈。
地理定向（Geo-Targeting）
场景：根据用户地理位置临时重定向至本地化页面（如语言或货币适配）。
作用：提供个性化体验，但保持旧 URL 的 SEO 权重。
示例：
http
HTTP/1.1 302 Found
Location: /en-us  # 用户来自美国时重定向
未登录用户跳转
场景：用户访问需要登录的页面时，临时跳转至登录页。
作用：登录后返回原页面，避免永久重定向导致 URL 变更。
促销活动临时页面
场景：限时活动页面（如黑色星期五特惠）需通过旧入口访问。
作用：活动结束后，用户仍可访问原入口，无需更新链接。
三、301 vs 302：关键对比
特性	301 Moved Permanently	302 Found (Temporary Redirect)
持久性	永久重定向	临时重定向
SEO 影响	权重传递至新 URL	权重保留在旧 URL
缓存行为	浏览器/代理缓存重定向关系	通常不缓存
适用场景	域名迁移、URL 优化、废弃页面	维护、A/B 测试、地理定向、未登录跳转
请求方法	保持原方法（如 POST）	保持原方法（但部分客户端可能改为 GET）
四、优化建议
优先使用 301：若资源迁移是永久的（如 HTTPS 升级、域名更换），务必使用 301 以传递 SEO 权重。
避免滥用 302：长期使用的重定向（如语言切换）应改用 301 或通过其他方式（如 Cookie）实现，避免影响 SEO。
监控重定向链：使用工具（如 Screaming Frog）检查重定向链是否过长（如 301→302→200），优化为直接跳转。
更新内部链接：实施 301 后，同步更新网站内部链接指向新 URL，减少重定向依赖。
明确响应头：确保 Location 字段包含完整 URL（如 https://example.com/new），而非相对路径（如 /new）。
五、扩展：307 和 308 状态码
307 Temporary Redirect：临时重定向，但强制要求后续请求使用相同方法（如 POST 请求后仍用 POST 跳转）。
308 Permanent Redirect：永久重定向，且强制要求后续请求使用相同方法。
适用场景：需要严格保持请求方法时（如表单提交后重定向），优先使用 307/308 替代 302/301。
示例（308 用于永久重定向 POST 请求）：

http
HTTP/1.1 308 Permanent Redirect
Location: https://example.com/new-endpoint
通过合理选择 301 或 302，可以平衡用户体验、SEO 效果和技术实现成本，确保网站迁移或功能调整时流量无缝过渡。
